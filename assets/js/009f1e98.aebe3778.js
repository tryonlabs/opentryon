"use strict";(globalThis.webpackChunkopentryon_docs=globalThis.webpackChunkopentryon_docs||[]).push([[7715],{3511:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"getting-started/configuration","title":"Configuration","description":"Learn how to configure OpenTryOn for your specific needs. OpenTryOn supports three main categories: Preprocessing, API Integrations, and Datasets.","source":"@site/docs/getting-started/configuration.md","sourceDirName":"getting-started","slug":"/getting-started/configuration","permalink":"/opentryon/getting-started/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/tryonlabs/opentryon/tree/main/docs/docs/getting-started/configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/opentryon/getting-started/quickstart"},"next":{"title":"Preprocessing Overview","permalink":"/opentryon/preprocessing/overview"}}');var o=i(4848),r=i(8453);const t={},a="Configuration",l={},c=[{value:"Environment Variables",id:"environment-variables",level:2},{value:"Preprocessing (Required for Local Preprocessing)",id:"preprocessing-required-for-local-preprocessing",level:3},{value:"API Integrations (Optional - Only configure APIs you plan to use)",id:"api-integrations-optional---only-configure-apis-you-plan-to-use",level:3},{value:"Datasets (Optional - Only if using HuggingFace datasets)",id:"datasets-optional---only-if-using-huggingface-datasets",level:3},{value:"Loading Environment Variables",id:"loading-environment-variables",level:2},{value:"Getting API Keys",id:"getting-api-keys",level:2},{value:"Segmind Try-On Diffusion",id:"segmind-try-on-diffusion",level:3},{value:"Kling AI Virtual Try-On",id:"kling-ai-virtual-try-on",level:3},{value:"Amazon Nova Canvas",id:"amazon-nova-canvas",level:3},{value:"Google Gemini (Nano Banana)",id:"google-gemini-nano-banana",level:3},{value:"BFL AI (FLUX.2)",id:"bfl-ai-flux2",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"GPU Configuration",id:"gpu-configuration",level:3},{value:"Model Checkpoint Paths",id:"model-checkpoint-paths",level:3},{value:"Logging Configuration",id:"logging-configuration",level:3},{value:"Default Settings",id:"default-settings",level:2},{value:"Custom Configuration",id:"custom-configuration",level:2},{value:"Quick Configuration Examples",id:"quick-configuration-examples",level:2},{value:"Preprocessing Only",id:"preprocessing-only",level:3},{value:"API Integrations Only (No Local Models)",id:"api-integrations-only-no-local-models",level:3},{value:"Full Setup (Preprocessing + APIs + Datasets)",id:"full-setup-preprocessing--apis--datasets",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,o.jsxs)(n.p,{children:["Learn how to configure OpenTryOn for your specific needs. OpenTryOn supports three main categories: ",(0,o.jsx)(n.strong,{children:"Preprocessing"}),", ",(0,o.jsx)(n.strong,{children:"API Integrations"}),", and ",(0,o.jsx)(n.strong,{children:"Datasets"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsxs)(n.p,{children:["OpenTryOn uses environment variables for configuration. Create a ",(0,o.jsx)(n.code,{children:".env"})," file in your project root:"]}),"\n",(0,o.jsx)(n.h3,{id:"preprocessing-required-for-local-preprocessing",children:"Preprocessing (Required for Local Preprocessing)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"# U2Net Model Checkpoints (Required for garment/human segmentation)\nU2NET_CLOTH_SEG_CHECKPOINT_PATH=path/to/cloth_segm.pth\nU2NET_SEGM_CHECKPOINT_PATH=path/to/u2net.pth\n\n# Optional: GPU Configuration\nCUDA_VISIBLE_DEVICES=0\n\n# Optional: Logging\nLOG_LEVEL=INFO\n"})}),"\n",(0,o.jsx)(n.h3,{id:"api-integrations-optional---only-configure-apis-you-plan-to-use",children:"API Integrations (Optional - Only configure APIs you plan to use)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"# Segmind Try-On Diffusion API\nSEGMIND_API_KEY=your_segmind_api_key\n\n# Kling AI Virtual Try-On API\nKLING_AI_API_KEY=your_kling_api_key\nKLING_AI_SECRET_KEY=your_kling_secret_key\nKLING_AI_BASE_URL=https://api-singapore.klingai.com  # Optional\n\n# Amazon Nova Canvas (AWS Bedrock)\nAWS_ACCESS_KEY_ID=your_aws_access_key\nAWS_SECRET_ACCESS_KEY=your_aws_secret_key\nAMAZON_NOVA_REGION=us-east-1  # Options: us-east-1, ap-northeast-1, eu-west-1\nAMAZON_NOVA_MODEL_ID=amazon.nova-canvas-v1:0  # Optional\n\n# Google Gemini (Nano Banana Image Generation)\nGEMINI_API_KEY=your_gemini_api_key\n\n# BFL AI (FLUX.2 Image Generation)\nBFL_API_KEY=your_bfl_api_key\n"})}),"\n",(0,o.jsx)(n.h3,{id:"datasets-optional---only-if-using-huggingface-datasets",children:"Datasets (Optional - Only if using HuggingFace datasets)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"# HuggingFace datasets cache (for Subjects200K)\n# Defaults to ~/.cache/huggingface/datasets if not set\nHF_DATASETS_CACHE=path/to/cache\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note"}),": You only need to configure the APIs and features you plan to use. For example:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Preprocessing only"}),": Only U2Net checkpoints required"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API integrations only"}),": Only API keys required (no local models needed)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Datasets only"}),": No configuration needed (automatic download/caching)"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"loading-environment-variables",children:"Loading Environment Variables"}),"\n",(0,o.jsx)(n.p,{children:"Always load environment variables before using OpenTryOn:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from dotenv import load_dotenv\nload_dotenv()\n\n# Now import and use OpenTryOn modules\nfrom tryon.preprocessing import segment_garment\nfrom tryon.api import SegmindVTONAdapter\nfrom tryon.datasets import FashionMNIST\n"})}),"\n",(0,o.jsx)(n.h2,{id:"getting-api-keys",children:"Getting API Keys"}),"\n",(0,o.jsx)(n.h3,{id:"segmind-try-on-diffusion",children:"Segmind Try-On Diffusion"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Sign up at ",(0,o.jsx)(n.a,{href:"https://www.segmind.com/models/try-on-diffusion/api",children:"Segmind API Portal"})]}),"\n",(0,o.jsx)(n.li,{children:"Obtain your API key from the dashboard"}),"\n",(0,o.jsxs)(n.li,{children:["Add to ",(0,o.jsx)(n.code,{children:".env"}),": ",(0,o.jsx)(n.code,{children:"SEGMIND_API_KEY=your_key"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"kling-ai-virtual-try-on",children:"Kling AI Virtual Try-On"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Sign up at ",(0,o.jsx)(n.a,{href:"https://app.klingai.com/",children:"Kling AI Developer Portal"})]}),"\n",(0,o.jsx)(n.li,{children:"Obtain API key (access key) and secret key"}),"\n",(0,o.jsxs)(n.li,{children:["Add to ",(0,o.jsx)(n.code,{children:".env"}),":","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"KLING_AI_API_KEY=your_api_key\nKLING_AI_SECRET_KEY=your_secret_key\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"amazon-nova-canvas",children:"Amazon Nova Canvas"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Set up AWS account with Bedrock access"}),"\n",(0,o.jsx)(n.li,{children:"Enable Nova Canvas in AWS Bedrock console (Model access section)"}),"\n",(0,o.jsxs)(n.li,{children:["Configure AWS credentials (via ",(0,o.jsx)(n.code,{children:".env"})," or AWS CLI):","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"AWS_ACCESS_KEY_ID=your_access_key\nAWS_SECRET_ACCESS_KEY=your_secret_key\nAMAZON_NOVA_REGION=us-east-1\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"google-gemini-nano-banana",children:"Google Gemini (Nano Banana)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Sign up at ",(0,o.jsx)(n.a,{href:"https://aistudio.google.com/",children:"Google AI Studio"})]}),"\n",(0,o.jsxs)(n.li,{children:["Obtain API key from ",(0,o.jsx)(n.a,{href:"https://aistudio.google.com/app/apikey",children:"API Keys page"})]}),"\n",(0,o.jsxs)(n.li,{children:["Add to ",(0,o.jsx)(n.code,{children:".env"}),": ",(0,o.jsx)(n.code,{children:"GEMINI_API_KEY=your_key"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"bfl-ai-flux2",children:"BFL AI (FLUX.2)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Sign up at ",(0,o.jsx)(n.a,{href:"https://docs.bfl.ai/",children:"BFL AI"})]}),"\n",(0,o.jsx)(n.li,{children:"Obtain your API key from the BFL AI dashboard"}),"\n",(0,o.jsxs)(n.li,{children:["Add to ",(0,o.jsx)(n.code,{children:".env"}),": ",(0,o.jsx)(n.code,{children:"BFL_API_KEY=your_key"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,o.jsx)(n.h3,{id:"gpu-configuration",children:"GPU Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Specify which GPU to use:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'import os\nos.environ["CUDA_VISIBLE_DEVICES"] = "0"  # Use first GPU\n'})}),"\n",(0,o.jsx)(n.h3,{id:"model-checkpoint-paths",children:"Model Checkpoint Paths"}),"\n",(0,o.jsx)(n.p,{children:"Set custom checkpoint paths:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'import os\nos.environ["U2NET_CLOTH_SEG_CHECKPOINT_PATH"] = "/custom/path/cloth_segm.pth"\nos.environ["U2NET_SEGM_CHECKPOINT_PATH"] = "/custom/path/u2net.pth"\n'})}),"\n",(0,o.jsx)(n.h3,{id:"logging-configuration",children:"Logging Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Configure logging level:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import logging\nlogging.basicConfig(level=logging.INFO)\n"})}),"\n",(0,o.jsx)(n.h2,{id:"default-settings",children:"Default Settings"}),"\n",(0,o.jsx)(n.p,{children:"OpenTryOn uses sensible defaults:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Image Size"}),": Automatically resized based on model requirements"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Batch Size"}),": 1 (can be adjusted for batch processing)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Device"}),": Auto-detects CUDA if available, falls back to CPU"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Normalization"}),": Images normalized to [-1, 1] range"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"custom-configuration",children:"Custom Configuration"}),"\n",(0,o.jsx)(n.p,{children:"You can override defaults when calling functions:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'from tryon.preprocessing.extract_garment_new import extract_garment\nfrom PIL import Image\nimport torch\n\n# Use specific device\ndevice = torch.device("cuda:0" if torch.cuda.is_available() else "cpu")\n\n# Load model once for efficiency\nnet = load_cloth_segm_model(device, os.environ.get("U2NET_CLOTH_SEGM_CHECKPOINT_PATH"))\n\n# Use pre-loaded model\nimage = Image.open("garment.jpg")\ngarments = extract_garment(\n    image=image,\n    cls="upper",\n    resize_to_width=400,\n    net=net,  # Reuse model\n    device=device\n)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"quick-configuration-examples",children:"Quick Configuration Examples"}),"\n",(0,o.jsx)(n.h3,{id:"preprocessing-only",children:"Preprocessing Only"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"U2NET_CLOTH_SEG_CHECKPOINT_PATH=./models/cloth_segm.pth\nU2NET_SEGM_CHECKPOINT_PATH=./models/u2net.pth\n"})}),"\n",(0,o.jsx)(n.h3,{id:"api-integrations-only-no-local-models",children:"API Integrations Only (No Local Models)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"SEGMIND_API_KEY=your_segmind_key\nGEMINI_API_KEY=your_gemini_key\nBFL_API_KEY=your_bfl_key\n"})}),"\n",(0,o.jsx)(n.h3,{id:"full-setup-preprocessing--apis--datasets",children:"Full Setup (Preprocessing + APIs + Datasets)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-env",children:"# Preprocessing\nU2NET_CLOTH_SEG_CHECKPOINT_PATH=./models/cloth_segm.pth\nU2NET_SEGM_CHECKPOINT_PATH=./models/u2net.pth\n\n# APIs\nSEGMIND_API_KEY=your_segmind_key\nKLING_AI_API_KEY=your_kling_key\nKLING_AI_SECRET_KEY=your_kling_secret\nGEMINI_API_KEY=your_gemini_key\nBFL_API_KEY=your_bfl_key\nAWS_ACCESS_KEY_ID=your_aws_key\nAWS_SECRET_ACCESS_KEY=your_aws_secret\nAMAZON_NOVA_REGION=us-east-1\n"})}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["Always use ",(0,o.jsx)(n.code,{children:".env"})," file"]}),": Never commit API keys or paths to version control"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Load environment variables first"}),": Before importing any OpenTryOn modules"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use absolute paths"}),": For checkpoint paths to avoid issues"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Check GPU availability"}),": Verify CUDA before running intensive operations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Only configure what you need"}),": Don't add API keys for services you won't use"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["Keep ",(0,o.jsx)(n.code,{children:".env"})," in ",(0,o.jsx)(n.code,{children:".gitignore"})]}),": Protect your credentials"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/opentryon/getting-started/quickstart",children:"Quick Start Guide"})}),": See examples of using APIs, datasets, and preprocessing"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"../api-reference/overview",children:"API Reference"})}),": Complete API documentation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"../datasets/overview",children:"Datasets Module"})}),": Learn about available datasets"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"../preprocessing/overview",children:"Preprocessing"})}),": Preprocessing documentation"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var s=i(6540);const o={},r=s.createContext(o);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);